# Scripts used for the documentation

The following scripts are used in the automatic compilation of the trustable report.

## capture_test_data.py

The python-script [capture_test_data.py](capture_test_data.py) runs at the end of the [ubuntu-workflow](../../.github/workflows/ubuntu.yml). It collects and combines the test-results that were collected in the individual jobs, appends the persistent test data storage and generates a database containing the results of the most recent tests only. Since storage space on the github is limited, the storage of test data is limited to two weeks only. It must be noted that this implementation is only intended as a temporary proof of concept!

## clean_trudag_report.py

The python-script [clean_trudag_report.py](clean_trudag_report.py) runs at the end of generate_report.sh.
By default, the report generated by trudag has the format that is expected by MkDocs.
This format, however, is not properly rendered by sphinx, so that an adaption of the output is necessary.
This adaption happens within this script.

## generate_report.sh

The shell-script [generate_report.sh](generate_report.sh) is used to generate the trustable report and the graphs of which the documentation consists.
In particular, it first cleans up potentially left-over obsolete reports, then generates the report and the full view of the trustable graph using trudag.
Thereafter, plot_partial_graphs.py is called, before finally clean_trudag_report.py is executed.

## plot_partial_graphs.py

The python-script [plot_partial_graphs.py](plot_partial_graphs.py) is used to generate a myriad of partial graphs with links amongst them.
These are then used to augment the full graph, which is, due to its size, quite hard to display, in the documentation.
By the means of the links of the items, a more or less \"navigable\" version of the trustable graph is created, which displays a handful of items at a time, only.

# Helper-scripts for offline testing

## fetch_json.cpp

The C++ script [fetch_json.cpp](fetch_json.cpp) is used to extract lists of paths to json testsuites from unit-testsuites.cpp, which are then used in testsuite-references. This script is purely used during the manual compilation of the references.

## generate_documentation.sh

The shell-script [generate_documentation.sh](generate_documentation.sh) generates a locally hosted version of the documentation, which is used for testing purposes.

## generate_subgraph_plots.sh

The shell-script [generate_subgraph_plots.sh](generate_subgraph_plots.sh) is used to generate subgraphs of the trustable graph using trudag plot with the --pick option. 
Since the options of adding custom hyperlinks to the individual nodes of the generated subgraphs are not quite as flexible as desired for the \"navigable\" version of the trustable graph, we opted to use the custom script plot_partial_graphs.py.
